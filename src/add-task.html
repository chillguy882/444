<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Добавление задачи</title>
    <link type="text/css" rel="stylesheet" href="css/styly.css" />
    <link
      rel="shortcut icon"
      href="https://sun9-57.userapi.com/impg/LwSjNz2JTuNHGX5s-41MkGR_Bt2bpXWt8eIMpQ/f6N9rTWnVQM.jpg?size=126x89&quality=96&sign=964512da46a83cae6e05ef5e8fd8eee7&type=album"
      type="imge/x-icon"
    />
  </head>
  <body>
    <header>
      <a href="index.html">
        <img
          src="https://sun9-57.userapi.com/impg/LwSjNz2JTuNHGX5s-41MkGR_Bt2bpXWt8eIMpQ/f6N9rTWnVQM.jpg?size=126x89&quality=96&sign=964512da46a83cae6e05ef5e8fd8eee7&type=album"
          alt="Logo"
          class="pointer"
        />
        <!-- Добавлен стиль для курсора -->
      </a>
      <nav>
        <div class="burger-menu" id="burgerMenu" onclick="toggleMenu()">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
        <ul class="nav-links">
          <li><a href="index.html">Главная</a></li>
          <li><a href="projects.html">Проекты</a></li>
          <li><a href="task.html">Список задач</a></li>
          <li><a href="about.html">О приложении</a></li>
          <li><button id="SwitchMode">Тема</button></li>
        </ul>
      </nav>
    </header>

    <h1>
      Добавление задачи <br />
      <button id="open-dialog" style="font-size: 0.5em">Добавить задачу</button>
    </h1>

    <a href="task.html" style="text-align: center; font-size: 1.5em"
      >Вернуться к списку задач</a
    >
    <dialog id="taskDialog">
      <form method="dialog">
        <h2>Введите задачу</h2>
        <input type="text" id="taskInput" placeholder="Введите задачу" />
        <menu>
          <button id="addTaskButton">Добавить</button>
          <button id="closeDialog">Закрыть</button>
        </menu>
      </form>
    </dialog>

    <div class="container" id="taskListContainer">
      <!-- Здесь будут карточки задач -->
    </div>
    <script src="bundle.js" async></script>
    <script src="js/scrip1.js" async></script>
    <script>
      document.getElementById("burgerMenu").addEventListener("click", () => {
        const navLinks = document.querySelector(".nav-links");
        navLinks.classList.toggle("active"); // Переключаем класс active
        const burgerMenu = document.getElementById("burgerMenu");
        burgerMenu.classList.toggle("active"); // Переключаем класс active для бургер-меню

        // Плавное открытие навигации
        if (navLinks.classList.contains("active")) {
          navLinks.style.display = "flex"; // Показываем меню
          setTimeout(() => {
            navLinks.style.opacity = "1"; // Устанавливаем полную непрозрачность
          }, 0); // Сразу устанавливаем непрозрачность
        } else {
          navLinks.style.opacity = "0"; // Уменьшаем непрозрачность
          setTimeout(() => {
            navLinks.style.display = "none"; // Скрываем меню
          }, 300); // Задержка для плавного эффекта
        }
      });
      const toggleButton = document.getElementById("SwitchMode");

      // Проверяем, сохранена ли тема в localStorage
      if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
      }

      // Обработчик события для переключения темы
      toggleButton.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");

        // Сохраняем текущую тему в localStorage
        if (document.body.classList.contains("dark-mode")) {
          localStorage.setItem("theme", "dark");
        } else {
          localStorage.setItem("theme", "light");
        }
      });
    </script>
  </body>
</html>
